<div class="e-container">

  <div class="row mt-3 mb-3 justify-content-between align-items-center">
    <div class="scale-in-center">
      <p class="e-title">
        <span class="material-icons e-title-icon">home_work</span>
        demandes de congé
      </p>
    </div>
  </div>

  <div class="row scale-in-center">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 table">

      <ng-container matColumnDef="employeNom">
        <mat-header-cell *matHeaderCellDef>Employe Nom</mat-header-cell>
        <mat-cell *matCellDef="let conge">
          <p class="cell-text"> {{conge.employe.nom}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="employePrenom">
        <mat-header-cell *matHeaderCellDef>Employe Prénom</mat-header-cell>
        <mat-cell *matCellDef="let conge">
          <p class="cell-text"> {{conge.employe.prenom}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="nature">
        <mat-header-cell *matHeaderCellDef>Nature</mat-header-cell>
        <mat-cell *matCellDef="let conge">
          <p class="cell-text"> {{conge.nature}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="nbJour">
        <mat-header-cell *matHeaderCellDef>NB Jour</mat-header-cell>
        <mat-cell *matCellDef="let conge">
          <p class="cell-text"> {{conge.nbJour}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="dateDebut">
        <mat-header-cell *matHeaderCellDef>Date Debut</mat-header-cell>
        <mat-cell *matCellDef="let conge">
          <p class="cell-text"> {{conge.dateDebut | date}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="dateFin">
        <mat-header-cell *matHeaderCellDef>Date Fin</mat-header-cell>
        <mat-cell *matCellDef="let conge">
          <p class="cell-text"> {{conge.dateFin | date}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="adresseDurantConge">
        <mat-header-cell *matHeaderCellDef>Adresse Conge</mat-header-cell>
        <mat-cell *matCellDef="let conge">
          <p class="cell-text"> {{conge.adresseDurantConge}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="status"><
        <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
        <mat-cell *matCellDef="let conge">
          <p *ngIf="conge.status !== 'PENDING'" class="cell-text status" [ngClass]="conge.status"> {{conge.status}} </p>
          <div *ngIf="conge.status === 'PENDING'" class="cell-btn">
            <mat-icon class="pointer" (click)="changeStatus(conge, 'accepted')" color="success">done</mat-icon>
          </div>
          <div *ngIf="conge.status === 'PENDING'" class="cell-btn">
            <mat-icon class="pointer" (click)="changeStatus(conge, 'refused')" color="danger">delete</mat-icon>
          </div>
        </mat-cell>
      </ng-container>

      <mat-header-row class="mat-header-row text-center" *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row class="mat-row" *matRowDef="let type; columns: displayedColumns;"></mat-row>
    </table>
  </div>
</div>
